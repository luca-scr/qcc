<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cusum chart — cusum • qcc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Open_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Cusum chart — cusum"><meta name="description" content="Create an object of class 'cusum.qcc' to compute a Cusum chart for statistical quality control."><meta property="og:description" content="Create an object of class 'cusum.qcc' to compute a Cusum chart for statistical quality control."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qcc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/qcc.html">Vignette</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://github.com/luca-scr/qcc"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cusum chart</h1>

      <div class="d-none name"><code>cusum.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create an object of class <code>'cusum.qcc'</code> to compute a Cusum chart for statistical quality control.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cusum</span><span class="op">(</span><span class="va">data</span>, <span class="va">sizes</span>, <span class="va">center</span>, <span class="va">std.dev</span>, </span>
<span>      decision.interval <span class="op">=</span> <span class="fl">5</span>, se.shift <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      head.start <span class="op">=</span> <span class="fl">0</span>,</span>
<span>      <span class="va">newdata</span>, <span class="va">newsizes</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cusum.qcc'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cusum.qcc'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, </span>
<span>     xtime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>     add.stats <span class="op">=</span> <span class="fu"><a href="qcc.options.html">qcc.options</a></span><span class="op">(</span><span class="st">"add.stats"</span><span class="op">)</span>, </span>
<span>     chart.all <span class="op">=</span> <span class="fu"><a href="qcc.options.html">qcc.options</a></span><span class="op">(</span><span class="st">"chart.all"</span><span class="op">)</span>, </span>
<span>     fill <span class="op">=</span> <span class="fu"><a href="qcc.options.html">qcc.options</a></span><span class="op">(</span><span class="st">"fill"</span><span class="op">)</span>,</span>
<span>     label.bounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LDB"</span>, <span class="st">"UDB"</span><span class="op">)</span>,</span>
<span>     <span class="va">title</span>, <span class="va">xlab</span>, <span class="va">ylab</span>, <span class="va">xlim</span>, <span class="va">ylim</span>, </span>
<span>     digits <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data frame, a matrix or a vector containing observed data for the variable to chart. Each row of a data frame or a matrix, and each value of a vector, refers to a sample or ”rationale group”.</p></dd>


<dt id="arg-sizes">sizes<a class="anchor" aria-label="anchor" href="#arg-sizes"></a></dt>
<dd><p>a value or a vector of values specifying the sample sizes associated with each group. If not provided the sample sizes are obtained counting the non-<code>NA</code> elements of each row of a data frame or a matrix; sample sizes are set all equal to one if <code>data</code> is a vector.</p></dd>


<dt id="arg-center">center<a class="anchor" aria-label="anchor" href="#arg-center"></a></dt>
<dd><p>a value specifying the center of group statistics or the ”target” value of the process.</p></dd>


<dt id="arg-std-dev">std.dev<a class="anchor" aria-label="anchor" href="#arg-std-dev"></a></dt>
<dd><p>a value or an available method specifying the within-group standard deviation(s) of the process. <br>
Several methods are available for estimating the standard deviation. See <code><a href="stats.xbar.html">sd.xbar</a></code> and <code><a href="stats.xbar.one.html">sd.xbar.one</a></code> for, respectively, the grouped data case and the individual observations case.</p></dd>


<dt id="arg-decision-interval">decision.interval<a class="anchor" aria-label="anchor" href="#arg-decision-interval"></a></dt>
<dd><p>A numeric value specifying the number of standard errors of the summary statistics at which the cumulative sum is out of control.</p></dd>


<dt id="arg-se-shift">se.shift<a class="anchor" aria-label="anchor" href="#arg-se-shift"></a></dt>
<dd><p>The amount of shift to detect in the process, measured in standard errors of the summary statistics.</p></dd>


<dt id="arg-head-start">head.start<a class="anchor" aria-label="anchor" href="#arg-head-start"></a></dt>
<dd><p>The initializing value for the above-target and
below-target cumulative sums, measured in standard errors of the summary
statistics. Use zero for the traditional Cusum chart, or a positive
value less than the <code>decision.interval</code> for a Fast Initial Response.</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>a data frame, matrix or vector, as for the <code>data</code> argument, providing further data to plot but not included in the computations.</p></dd>


<dt id="arg-newsizes">newsizes<a class="anchor" aria-label="anchor" href="#arg-newsizes"></a></dt>
<dd><p>a vector as for the <code>sizes</code> argument providing further data sizes to plot but not included in the computations.</p></dd>


<dt id="arg-xtime">xtime<a class="anchor" aria-label="anchor" href="#arg-xtime"></a></dt>
<dd><p>a vector of date-time values as returned by <code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></code> and <code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></code>. If provided it is used for x-axis so it must be of the same length as the statistic charted.</p></dd>


<dt id="arg-add-stats">add.stats<a class="anchor" aria-label="anchor" href="#arg-add-stats"></a></dt>
<dd><p>a logical value indicating whether statistics and other information should be printed at the bottom of the chart.</p></dd>


<dt id="arg-chart-all">chart.all<a class="anchor" aria-label="anchor" href="#arg-chart-all"></a></dt>
<dd><p>a logical value indicating whether both statistics for <code>data</code> and for <code>newdata</code> (if given) should be plotted.</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p>a logical value specifying if the in-control area should be filled with the color specified in <code>qcc.options("zones")$fill</code>.</p></dd>


<dt id="arg-label-bounds">label.bounds<a class="anchor" aria-label="anchor" href="#arg-label-bounds"></a></dt>
<dd><p>a character vector specifying the labels for the the decision interval boundaries.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>a character string specifying the main title. Set <code>title = NULL</code> to remove the title.</p></dd>


<dt id="arg-xlab-ylab">xlab, ylab<a class="anchor" aria-label="anchor" href="#arg-xlab-ylab"></a></dt>
<dd><p>a string giving the label for the x-axis and the y-axis.</p></dd>


<dt id="arg-xlim-ylim">xlim, ylim<a class="anchor" aria-label="anchor" href="#arg-xlim-ylim"></a></dt>
<dd><p>a numeric vector specifying the limits for the x-axis and the y-axis.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>the number of significant digits to use.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object of class <code>'cusum.qcc'</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments to be passed to the generic function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Cusum charts display how the group summary statistics deviate above or below the process center or target value, relative to the standard errors of the summary statistics. Useful to detect small and permanent variation on the mean of the process.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns an object of class <code>'cusum.qcc'</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Mason, R.L. and Young, J.C. (2002) <em>Multivariate Statistical Process Control with Industrial Applications</em>, SIAM.</p>
<p>Montgomery, D.C. (2013) <em>Introduction to Statistical Quality Control</em>, 7th ed. New York: John Wiley &amp; Sons.</p>
<p>Ryan, T. P. (2011), <em>Statistical Methods for Quality Improvement</em>, 3rd ed. New York: John Wiley &amp; Sons, Inc.</p>
<p>Scrucca, L. (2004). qcc: an R package for quality control charting and statistical process control. <em>R News</em> 4/1, 11-17.</p>
<p>Wetherill, G.B. and Brown, D.W. (1991) <em>Statistical Process Control</em>. New York: Chapman &amp; Hall.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Luca Scrucca</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="qcc.html">qcc</a></code>, <code><a href="ewma.html">ewma</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## Grouped-data</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">diameter</span>  <span class="op">=</span> <span class="fu"><a href="qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">q</span>  <span class="op">=</span> <span class="fu">cusum</span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, decision.interval <span class="op">=</span> <span class="fl">4</span>, se.shift <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Cusum Chart</span> ─────────────────────────────────── </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data (phase I)             = diameter[1:25, ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of groups           = 25 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sample size          = 5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Center of group statistics = 74.00118 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard deviation         = 0.009785039 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Decision interval (StdErr) = 4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Shift detection   (StdErr) = 1 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cusum-1.png" alt="" width="672" height="576"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">q</span>  <span class="op">=</span> <span class="fu">cusum</span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, newdata<span class="op">=</span><span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Cusum Chart</span> ─────────────────────────────────── </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data (phase I)             = diameter[1:25, ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of groups           = 25 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sample size          = 5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Center of group statistics = 74.00118 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard deviation         = 0.009785039 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New data (phase II)        = diameter[26:40, ] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of groups           = 15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sample size          = 5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Decision interval (StdErr) = 5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Shift detection   (StdErr) = 1 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span>, chart.all<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cusum-2.png" alt="" width="672" height="576"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## Individual observations</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">q</span>  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu">cusum</span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, newdata <span class="op">=</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Cusum Chart</span> ─────────────────────────────────── </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data (phase I)             = viscosity[trial] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of groups           = 20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sample size          = 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Center of group statistics = 34.088 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard deviation         = 0.5076521 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New data (phase II)        = viscosity[!trial] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of groups           = 15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sample size          = 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Decision interval (StdErr) = 5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Shift detection   (StdErr) = 1 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cusum-3.png" alt="" width="672" height="576"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://luca-scr.github.io" class="external-link">Luca Scrucca</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

