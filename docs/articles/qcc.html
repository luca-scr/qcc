<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A quick tour of qcc • qcc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Open_Sans-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="A quick tour of qcc">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qcc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/qcc.html">Vignette</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="https://github.com/luca-scr/qcc"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>A quick tour of qcc</h1>
                        <h4 data-toc-skip class="author">Luca
Scrucca</h4>
            
            <h4 data-toc-skip class="date">16 May 2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/luca-scr/qcc/blob/HEAD/vignettes/qcc.Rmd"><code>vignettes/qcc.Rmd</code></a></small>
      <div class="d-none name"><code>qcc.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>qcc</code> is a contributed R package for <strong>statistical
quality control charts</strong> which provides:</p>
<ul>
<li>Shewhart quality control charts for continuous, attribute and count
data</li>
<li>Cusum and EWMA charts</li>
<li>Operating characteristic curves</li>
<li>Process capability analysis</li>
<li>Pareto chart and cause-and-effect chart</li>
<li>Multivariate control charts.</li>
</ul>
<p>This document gives a quick tour of <code>qcc</code> (version 3.0)
functionalities. Further details are provided in Scrucca (2004).</p>
<p>This vignette is written in R Markdown using the <a href="https://cran.r-project.org/package=knitr" class="external-link">knitr</a> package for
production.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://luca-scr.github.io/qcc/" class="external-link">qcc</a></span><span class="op">)</span></span>
<span><span class="co">##   __ _  ___ ___ </span></span>
<span><span class="co">##  / _  |/ __/ __|  Quality Control Charts and </span></span>
<span><span class="co">## | (_| | (_| (__   Statistical Process Control</span></span>
<span><span class="co">##  \__  |\___\___|</span></span>
<span><span class="co">##     |_|           version 3.0</span></span>
<span><span class="co">## Type 'citation("qcc")' for citing this R package in publications.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="shewhart-charts">Shewhart charts<a class="anchor" aria-label="anchor" href="#shewhart-charts"></a>
</h2>
<div class="section level3">
<h3 id="x-bar-chart">x-bar chart<a class="anchor" aria-label="anchor" href="#x-bar-chart"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span></span>
<span><span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span></span>
<span><span class="co">##     [,1]   [,2]   [,3]   [,4]   [,5]</span></span>
<span><span class="co">## 1 74.030 74.002 74.019 73.992 74.008</span></span>
<span><span class="co">## 2 73.995 73.992 74.001 74.011 74.004</span></span>
<span><span class="co">## 3 73.988 74.024 74.021 74.005 74.002</span></span>
<span><span class="co">## 4 74.002 73.996 73.993 74.015 74.009</span></span>
<span><span class="co">## 5 73.992 74.007 74.015 73.989 74.014</span></span>
<span><span class="co">## 6 74.009 73.994 73.997 73.985 73.993</span></span>
<span></span>
<span><span class="op">(</span><span class="va">q1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, </span>
<span>           newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = xbar </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 74.00118 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = diameter[26:40, ] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL     UCL</span></span>
<span><span class="co">##  73.98805 74.0143</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q1</span>, fill <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q1</span>, chart.all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q1</span>, add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-3.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, </span>
<span>         newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span>, </span>
<span>         confidence.level <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-4.png" width="80%" style="display: block; margin: auto;"></p>
<p>Western Electric rules:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, </span>
<span>          newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span>, </span>
<span>          rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q1</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-3-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q1</span>, fill <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-3-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="section level4">
<h4 id="specifying-dates-for-rationale-subgroups">Specifying dates for rationale subgroups<a class="anchor" aria-label="anchor" href="#specifying-dates-for-rationale-subgroups"></a>
</h4>
<p>In a Shewhart control chart the x-axis represents the <em>rationale
subgroups</em>. This means that in the data collection process
“subgroups or samples should be selected so that if assignable causes
are present, the chance for differences between subgroups will be
maximized, while the chance for differences due to these assignable
causes within a subgroup will be minimized” (Montgomery, 2013, Sec.
5.3.4).</p>
<p>Typically, for control charts used in production processes the time
order of production is a logical basis for rational subgroups. In this
case a user may want to represent the date of production along the
x-axis.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">##  [1] "2025-04-07" "2025-04-08" "2025-04-09" "2025-04-10" "2025-04-11"</span></span>
<span><span class="co">##  [6] "2025-04-12" "2025-04-13" "2025-04-14" "2025-04-15" "2025-04-16"</span></span>
<span><span class="co">## [11] "2025-04-17" "2025-04-18" "2025-04-19" "2025-04-20" "2025-04-21"</span></span>
<span><span class="co">## [16] "2025-04-22" "2025-04-23" "2025-04-24" "2025-04-25" "2025-04-26"</span></span>
<span><span class="co">## [21] "2025-04-27" "2025-04-28" "2025-04-29" "2025-04-30" "2025-05-01"</span></span>
<span><span class="co">## [26] "2025-05-02" "2025-05-03" "2025-05-04" "2025-05-05" "2025-05-06"</span></span>
<span><span class="co">## [31] "2025-05-07" "2025-05-08" "2025-05-09" "2025-05-10" "2025-05-11"</span></span>
<span><span class="co">## [36] "2025-05-12" "2025-05-13" "2025-05-14" "2025-05-15" "2025-05-16"</span></span>
<span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="va">dates</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-4-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>Further fine-tuning is also available as shown in the example
below:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="va">dates</span>, xlab <span class="op">=</span> <span class="cn">NULL</span>, add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"1 week"</span>, date_labels <span class="op">=</span> <span class="st">"%d-%b"</span><span class="op">)</span></span>
<span><span class="co">## Scale for <span style="color: #00BB00;">x</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">x</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-5-1.png" width="80%" style="display: block; margin: auto;">
Note than we must remove the summary statistics at bottom
(<code>add.stats = FALSE</code>) in order to change the x-axis
settings.</p>
</div>
</div>
<div class="section level3">
<h3 id="r-chart">R chart<a class="anchor" aria-label="anchor" href="#r-chart"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">q2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = R </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 0.02276 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##  LCL        UCL</span></span>
<span><span class="co">##    0 0.04812533</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q2</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-6-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">q3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"R"</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = R </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 0.02276 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = diameter[26:40, ] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##  LCL        UCL</span></span>
<span><span class="co">##    0 0.04812533</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q3</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-6-2.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="s-chart">S chart<a class="anchor" aria-label="anchor" href="#s-chart"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">q4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"S"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = S </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 0.009240037 </span></span>
<span><span class="co">## Standard deviation         = 0.009829977 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##  LCL        UCL</span></span>
<span><span class="co">##    0 0.01930242</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q4</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-7-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">q5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"S"</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = S </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 0.009240037 </span></span>
<span><span class="co">## Standard deviation         = 0.009829977 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = diameter[26:40, ] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##  LCL        UCL</span></span>
<span><span class="co">##    0 0.01930242</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q5</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-7-2.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="variable-control-limits-in-control-charts">Variable control limits in control charts<a class="anchor" aria-label="anchor" href="#variable-control-limits-in-control-charts"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">30</span>, <span class="fl">35</span>, <span class="fl">45</span>, <span class="fl">64</span>, <span class="fl">65</span>, <span class="fl">74</span>, <span class="fl">75</span>, <span class="fl">85</span>, <span class="fl">99</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">diameter2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span><span class="op">[</span><span class="op">-</span><span class="va">out</span>,<span class="op">]</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-8-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-8-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, newdata <span class="op">=</span> <span class="va">diameter2</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-9-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="p-and-np-charts">p and np charts<a class="anchor" aria-label="anchor" href="#p-and-np-charts"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">orangejuice</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = p </span></span>
<span><span class="co">## Data (phase I)             = D[trial] </span></span>
<span><span class="co">## Number of groups           = 30 </span></span>
<span><span class="co">## Group sample size          = 50 </span></span>
<span><span class="co">## Center of group statistics = 0.2313333 </span></span>
<span><span class="co">## Standard deviation         = 0.05963526 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##          LCL       UCL</span></span>
<span><span class="co">##   0.05242755 0.4102391</span></span>
<span><span class="co">##   0.05242755 0.4102391</span></span>
<span><span class="co">## :                     </span></span>
<span><span class="co">##   0.05242755 0.4102391</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-10-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"np"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = np </span></span>
<span><span class="co">## Data (phase I)             = D[trial] </span></span>
<span><span class="co">## Number of groups           = 30 </span></span>
<span><span class="co">## Group sample size          = 50 </span></span>
<span><span class="co">## Center of group statistics = 11.56667 </span></span>
<span><span class="co">## Standard deviation         = 2.981763 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL      UCL</span></span>
<span><span class="co">##  2.621377 20.51196</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-10-2.png" width="80%" style="display: block; margin: auto;"></p>
<p>Remove out-of-control points (see <code><a href="../reference/orangejuice.html">help(orangejuice)</a></code> for
the reasons):</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">orangejuice</span><span class="op">$</span><span class="va">trial</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">23</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span>,</span>
<span>                          newdata <span class="op">=</span> <span class="va">D</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = p </span></span>
<span><span class="co">## Data (phase I)             = D[inc] </span></span>
<span><span class="co">## Number of groups           = 28 </span></span>
<span><span class="co">## Group sample size          = 50 </span></span>
<span><span class="co">## Center of group statistics = 0.215 </span></span>
<span><span class="co">## Standard deviation         = 0.05809905 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = D[!trial] </span></span>
<span><span class="co">## Number of groups           = 24 </span></span>
<span><span class="co">## Group sample size          = 50 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##          LCL       UCL</span></span>
<span><span class="co">##   0.04070284 0.3892972</span></span>
<span><span class="co">##   0.04070284 0.3892972</span></span>
<span><span class="co">## :                     </span></span>
<span><span class="co">##   0.04070284 0.3892972</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-11-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">orangejuice2</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">orangejuice2</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span>, </span>
<span>                            newdata <span class="op">=</span> <span class="va">D</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = p </span></span>
<span><span class="co">## Data (phase I)             = D[trial] </span></span>
<span><span class="co">## Number of groups           = 24 </span></span>
<span><span class="co">## Group sample size          = 50 </span></span>
<span><span class="co">## Center of group statistics = 0.1108333 </span></span>
<span><span class="co">## Standard deviation         = 0.04439579 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = D[!trial] </span></span>
<span><span class="co">## Number of groups           = 40 </span></span>
<span><span class="co">## Group sample size          = 50 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##   LCL       UCL</span></span>
<span><span class="co">##     0 0.2440207</span></span>
<span><span class="co">##     0 0.2440207</span></span>
<span><span class="co">## :              </span></span>
<span><span class="co">##     0 0.2440207</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-12-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="c-and-u-charts">c and u charts<a class="anchor" aria-label="anchor" href="#c-and-u-charts"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">circuit</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = c </span></span>
<span><span class="co">## Data (phase I)             = x[trial] </span></span>
<span><span class="co">## Number of groups           = 26 </span></span>
<span><span class="co">## Group sample size          = 100 </span></span>
<span><span class="co">## Center of group statistics = 19.84615 </span></span>
<span><span class="co">## Standard deviation         = 4.454902 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL      UCL</span></span>
<span><span class="co">##  6.481447 33.21086</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-13-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>Remove out-of-control points (see <code><a href="../reference/circuit.html">help(circuit)</a></code> for the
reasons)</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">circuit</span><span class="op">$</span><span class="va">trial</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"c"</span>, labels <span class="op">=</span> <span class="va">inc</span>, </span>
<span>                       newdata <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, </span>
<span>                       newlabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="op">!</span><span class="va">trial</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = c </span></span>
<span><span class="co">## Data (phase I)             = x[inc] </span></span>
<span><span class="co">## Number of groups           = 24 </span></span>
<span><span class="co">## Group sample size          = 100 </span></span>
<span><span class="co">## Center of group statistics = 19.66667 </span></span>
<span><span class="co">## Standard deviation         = 4.434712 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = x[!trial] </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 100 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL     UCL</span></span>
<span><span class="co">##  6.362532 32.9708</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-14-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"u"</span>, labels <span class="op">=</span> <span class="va">inc</span>, </span>
<span>                       newdata <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, </span>
<span>                       newlabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="op">!</span><span class="va">trial</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = u </span></span>
<span><span class="co">## Data (phase I)             = x[inc] </span></span>
<span><span class="co">## Number of groups           = 24 </span></span>
<span><span class="co">## Group sample size          = 100 </span></span>
<span><span class="co">## Center of group statistics = 0.1966667 </span></span>
<span><span class="co">## Standard deviation         = 0.4434712 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = x[!trial] </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 100 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##         LCL      UCL</span></span>
<span><span class="co">##  0.06362532 0.329708</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-14-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pcmanufact</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">pcmanufact</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, sizes <span class="op">=</span> <span class="va">size</span>, type <span class="op">=</span> <span class="st">"u"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = u </span></span>
<span><span class="co">## Data (phase I)             = x </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 1.93 </span></span>
<span><span class="co">## Standard deviation         = 1.389244 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##         LCL      UCL</span></span>
<span><span class="co">##  0.06613305 3.793867</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-15-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="continuous-one-at-time-data">Continuous one-at-time data<a class="anchor" aria-label="anchor" href="#continuous-one-at-time-data"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar.one"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = xbar.one </span></span>
<span><span class="co">## Data (phase I)             = viscosity[trial] </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center of group statistics = 34.088 </span></span>
<span><span class="co">## Standard deviation         = 0.5076521 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL      UCL</span></span>
<span><span class="co">##  32.56504 35.61096</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-16-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar.one"</span>, std.dev <span class="op">=</span> <span class="st">"SD"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = xbar.one </span></span>
<span><span class="co">## Data (phase I)             = viscosity[trial] </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center of group statistics = 34.088 </span></span>
<span><span class="co">## Standard deviation         = 0.5769854 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL      UCL</span></span>
<span><span class="co">##  32.35704 35.81896</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-16-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># batch 4 is out-of-control because of a process temperature controller</span></span>
<span><span class="co"># failure; remove it and recompute</span></span>
<span><span class="va">viscosity</span> <span class="op">&lt;-</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">-</span><span class="fl">4</span>,<span class="op">]</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar.one"</span>, </span>
<span>                         newdata <span class="op">=</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>,</span>
<span>                         rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = xbar.one </span></span>
<span><span class="co">## Data (phase I)             = viscosity[trial] </span></span>
<span><span class="co">## Number of groups           = 19 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center of group statistics = 33.98947 </span></span>
<span><span class="co">## Standard deviation         = 0.4117415 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = viscosity[!trial] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##       LCL     UCL</span></span>
<span><span class="co">##  32.75425 35.2247</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-16-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="standardized-p-chart">Standardized p chart<a class="anchor" aria-label="anchor" href="#standardized-p-chart"></a>
</h3>
<p>In this example we show how to extend the package by defining a new
control chart, i.e. a standardized p chart
(<code>type = "p.std"</code>).</p>
<p>Function to compute group statistics and center:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats.p.std</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">sizes</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>  <span class="va">sizes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">sizes</span><span class="op">)</span></span>
<span>  <span class="va">pbar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sizes</span><span class="op">)</span></span>
<span>  <span class="va">z</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">data</span><span class="op">/</span><span class="va">sizes</span> <span class="op">-</span> <span class="va">pbar</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">pbar</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">pbar</span><span class="op">)</span><span class="op">/</span><span class="va">sizes</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>statistics <span class="op">=</span> <span class="va">z</span>, center <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Function to compute within-group standard deviation:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sd.p.std</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">sizes</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">}</span></span></code></pre></div>
<p>Function to compute control limits based on normal approximation:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">limits.p.std</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">center</span>, <span class="va">std.dev</span>, <span class="va">sizes</span>, <span class="va">nsigmas</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">conf</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">conf</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">{</span> <span class="va">lcl</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">nsigmas</span></span>
<span>      <span class="va">ucl</span> <span class="op">&lt;-</span> <span class="op">+</span><span class="va">nsigmas</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span></span>
<span>    <span class="op">{</span> <span class="kw">if</span><span class="op">(</span><span class="va">conf</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">conf</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span></span>
<span>        <span class="op">{</span> <span class="va">nsigmas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">conf</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span>
<span>          <span class="va">lcl</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">nsigmas</span></span>
<span>          <span class="va">ucl</span> <span class="op">&lt;-</span> <span class="op">+</span><span class="va">nsigmas</span> <span class="op">}</span></span>
<span>      <span class="kw">else</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"invalid 'conf' argument."</span><span class="op">)</span> </span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lcl</span>, <span class="va">ucl</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">""</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LCL"</span>, <span class="st">"UCL"</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Example with simulated data:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set unequal sample sizes</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># generate randomly the number of successes</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, <span class="va">n</span>, <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="co"># plot the control chart with variable limits</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"p"</span>, size <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = p </span></span>
<span><span class="co">## Data (phase I)             = x </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample sizes         =                  </span></span>
<span><span class="co">##   sizes  25 50 100</span></span>
<span><span class="co">##   counts  5  5   5</span></span>
<span><span class="co">## Center of group statistics = 0.2148571 </span></span>
<span><span class="co">## Standard deviation         = 0.05808503 0.05808503 0.05808503 ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##          LCL       UCL</span></span>
<span><span class="co">##   0.04060204 0.3891122</span></span>
<span><span class="co">##   0.04060204 0.3891122</span></span>
<span><span class="co">## :                     </span></span>
<span><span class="co">##   0.00000000 0.4612911</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-20-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot the standardized control chart</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"p.std"</span>, size <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = p.std </span></span>
<span><span class="co">## Data (phase I)             = x </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample sizes         =                  </span></span>
<span><span class="co">##   sizes  25 50 100</span></span>
<span><span class="co">##   counts  5  5   5</span></span>
<span><span class="co">## Center of group statistics = 0 </span></span>
<span><span class="co">## Standard deviation         = 1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##  LCL UCL</span></span>
<span><span class="co">##   -3   3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-20-2.png" width="80%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="operating-characteristic-curves">Operating Characteristic Curves<a class="anchor" aria-label="anchor" href="#operating-characteristic-curves"></a>
</h2>
<p>An operating characteristic curve graphically provides information
about the probability of not detecting a shift in the process. The
function <code><a href="../reference/oc.curves.html">ocCurves()</a></code> is a generic function which calls the
proper function depending on the type of input <code>'qcc'</code>
object.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span></span>
<span><span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, nsigmas <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/oc.curves.html">ocCurves</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Operating Characteristic Curves</span> ─────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type:  xbar </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prob. type II error (beta):</span></span>
<span><span class="co">##               sample size</span></span>
<span><span class="co">## shift (StdDev)      1      5     10     15     20</span></span>
<span><span class="co">##            0.0 0.9973 0.9973 0.9973 0.9973 0.9973</span></span>
<span><span class="co">##            0.1 0.9972 0.9966 0.9959 0.9952 0.9944</span></span>
<span><span class="co">##            0.2 0.9968 0.9944 0.9909 0.9869 0.9823</span></span>
<span><span class="co">##            :                                     </span></span>
<span><span class="co">##            4.9 0.0287 0.0000 0.0000 0.0000 0.0000</span></span>
<span><span class="co">##            5.0 0.0228 0.0000 0.0000 0.0000 0.0000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Average run length (ARL):</span></span>
<span><span class="co">##               sample size</span></span>
<span><span class="co">## shift (StdDev)   1   5  10  15  20</span></span>
<span><span class="co">##            0.0 370 370 370 370 370</span></span>
<span><span class="co">##            0.1 353 296 244 206 178</span></span>
<span><span class="co">##            0.2 308 178 110  76  57</span></span>
<span><span class="co">##            :                      </span></span>
<span><span class="co">##            4.9   1   1   1   1   1</span></span>
<span><span class="co">##            5.0   1   1   1   1   1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">beta</span>, what <span class="op">=</span> <span class="st">"ARL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">orangejuice</span><span class="op">)</span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/oc.curves.html">ocCurves</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Operating Characteristic Curves</span> ─────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type:  p </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prob. type II error (beta):</span></span>
<span><span class="co">##                       </span></span>
<span><span class="co">## fraction nonconforming   beta</span></span>
<span><span class="co">##                   0.00 0.0000</span></span>
<span><span class="co">##                   0.01 0.0894</span></span>
<span><span class="co">##                   0.02 0.2642</span></span>
<span><span class="co">##                   :          </span></span>
<span><span class="co">##                   0.99 0.0000</span></span>
<span><span class="co">##                   1.00 0.0000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Average run length (ARL):</span></span>
<span><span class="co">##                       </span></span>
<span><span class="co">## fraction nonconforming ARL</span></span>
<span><span class="co">##                   0.00   1</span></span>
<span><span class="co">##                   0.01   1</span></span>
<span><span class="co">##                   0.02   1</span></span>
<span><span class="co">##                   :       </span></span>
<span><span class="co">##                   0.99   1</span></span>
<span><span class="co">##                   1.00   1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-3.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">beta</span>, what <span class="op">=</span> <span class="st">"ARL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-4.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">circuit</span><span class="op">)</span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/oc.curves.html">ocCurves</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Operating Characteristic Curves</span> ─────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type:  c </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prob. type II error (beta):</span></span>
<span><span class="co">##                      </span></span>
<span><span class="co">## average nonconforming   beta</span></span>
<span><span class="co">##                 0.00  0.0000</span></span>
<span><span class="co">##                 1.00  0.0006</span></span>
<span><span class="co">##                 2.00  0.0166</span></span>
<span><span class="co">##                 :           </span></span>
<span><span class="co">##                 64.00 0.0000</span></span>
<span><span class="co">##                 65.00 0.0000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Average run length (ARL):</span></span>
<span><span class="co">##                      </span></span>
<span><span class="co">## average nonconforming ARL</span></span>
<span><span class="co">##                 0.00    1</span></span>
<span><span class="co">##                 1.00    1</span></span>
<span><span class="co">##                 2.00    1</span></span>
<span><span class="co">##                 :        </span></span>
<span><span class="co">##                 64.00   1</span></span>
<span><span class="co">##                 65.00   1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-5.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">beta</span>, what <span class="op">=</span> <span class="st">"ARL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-6.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="cusum-chart">Cusum chart<a class="anchor" aria-label="anchor" href="#cusum-chart"></a>
</h2>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span></span>
<span><span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span><span class="va">diameter</span>, <span class="va">sample</span>, data <span class="op">=</span> <span class="va">pistonrings</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/cusum.html">cusum</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, decision.interval <span class="op">=</span> <span class="fl">4</span>, se.shift <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Cusum Chart</span> ─────────────────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 74.00118 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Decision interval (StdErr) = 4 </span></span>
<span><span class="co">## Shift detection   (StdErr) = 1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cusum.html">cusum</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Cusum Chart</span> ─────────────────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 74.00118 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = diameter[26:40, ] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Decision interval (StdErr) = 5 </span></span>
<span><span class="co">## Shift detection   (StdErr) = 1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span>, chart.all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-3.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>     add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"4 days"</span>, date_labels <span class="op">=</span> <span class="st">"%d-%b"</span><span class="op">)</span></span>
<span><span class="co">## Scale for <span style="color: #00BB00;">x</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">x</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-4.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="ewma">EWMA<a class="anchor" aria-label="anchor" href="#ewma"></a>
</h2>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span></span>
<span><span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/ewma.html">ewma</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, lambda <span class="op">=</span> <span class="fl">0.2</span>, nsigmas <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">EWMA Chart</span> ──────────────────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 74.00118 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Smoothing parameter        = 0.2 </span></span>
<span><span class="co">## Control limits at nsigmas  = 3 </span></span>
<span><span class="co">##         LCL      UCL</span></span>
<span><span class="co">## 1  73.99855 74.00380</span></span>
<span><span class="co">## 2  73.99781 74.00454</span></span>
<span><span class="co">## :                   </span></span>
<span><span class="co">## 25 73.99680 74.00555</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-23-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/ewma.html">ewma</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, lambda <span class="op">=</span> <span class="fl">0.2</span>, nsigmas <span class="op">=</span> <span class="fl">2.7</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">EWMA Chart</span> ──────────────────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data (phase I)             = diameter[1:25, ] </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## Center of group statistics = 74.00118 </span></span>
<span><span class="co">## Standard deviation         = 0.009785039 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = diameter[26:40, ] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 5 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Smoothing parameter        = 0.2 </span></span>
<span><span class="co">## Control limits at nsigmas  = 2.7 </span></span>
<span><span class="co">##         LCL      UCL</span></span>
<span><span class="co">## 1  73.99881 74.00354</span></span>
<span><span class="co">## 2  73.99815 74.00420</span></span>
<span><span class="co">## :                   </span></span>
<span><span class="co">## 40 73.99724 74.00511</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-23-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>     add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"4 days"</span>, date_labels <span class="op">=</span> <span class="st">"%d-%b"</span><span class="op">)</span></span>
<span><span class="co">## Scale for <span style="color: #00BB00;">x</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">x</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-23-3.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">viscosity</span>, </span>
<span>          <span class="fu"><a href="../reference/ewma.html">ewma</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, lambda <span class="op">=</span> <span class="fl">0.2</span>, nsigmas <span class="op">=</span> <span class="fl">2.7</span>,</span>
<span>               newdata <span class="op">=</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">EWMA Chart</span> ──────────────────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data (phase I)             = viscosity[trial] </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center of group statistics = 34.088 </span></span>
<span><span class="co">## Standard deviation         = 0.5076521 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = viscosity[!trial] </span></span>
<span><span class="co">## Number of groups           = 15 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Smoothing parameter        = 0.2 </span></span>
<span><span class="co">## Control limits at nsigmas  = 2.7 </span></span>
<span><span class="co">##            LCL      UCL</span></span>
<span><span class="co">## [1,]  33.81387 34.36213</span></span>
<span><span class="co">## [2,]  33.73694 34.43906</span></span>
<span><span class="co">## :                      </span></span>
<span><span class="co">## [35,] 33.63111 34.54489</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-24-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="process-capability-analysis">Process capability analysis<a class="anchor" aria-label="anchor" href="#process-capability-analysis"></a>
</h2>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span></span>
<span><span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span></span>
<span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, nsigmas <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">73.95</span>,<span class="fl">74.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Process Capability Analysis</span> ─────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of obs = 125          Target = 74      </span></span>
<span><span class="co">## Center        = 74.00118     LSL    = 73.95   </span></span>
<span><span class="co">## StdDev        = 0.009785039  USL    = 74.05   </span></span>
<span><span class="co">##                   </span></span>
<span><span class="co">## Capability indices  Value  2.5%  97.5%</span></span>
<span><span class="co">##               Cp     1.70  1.49   1.91</span></span>
<span><span class="co">##               Cp_l   1.74  1.55   1.93</span></span>
<span><span class="co">##               Cp_u   1.66  1.48   1.84</span></span>
<span><span class="co">##               Cp_k   1.66  1.45   1.88</span></span>
<span><span class="co">##               Cpm    1.69  1.48   1.90</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Exp&lt;LSL 0%    Obs&lt;LSL 0%</span></span>
<span><span class="co">## Exp&gt;USL 0%    Obs&gt;USL 0%</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">73.95</span>,<span class="fl">74.05</span><span class="op">)</span>, target <span class="op">=</span> <span class="fl">74.02</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Process Capability Analysis</span> ─────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of obs = 125          Target = 74.02   </span></span>
<span><span class="co">## Center        = 74.00118     LSL    = 73.95   </span></span>
<span><span class="co">## StdDev        = 0.009785039  USL    = 74.05   </span></span>
<span><span class="co">##                   </span></span>
<span><span class="co">## Capability indices  Value   2.5%  97.5%</span></span>
<span><span class="co">##               Cp    1.703  1.491  1.915</span></span>
<span><span class="co">##               Cp_l  1.743  1.555  1.932</span></span>
<span><span class="co">##               Cp_u  1.663  1.483  1.844</span></span>
<span><span class="co">##               Cp_k  1.663  1.448  1.878</span></span>
<span><span class="co">##               Cpm   0.786  0.656  0.915</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Exp&lt;LSL 0%    Obs&lt;LSL 0%</span></span>
<span><span class="co">## Exp&gt;USL 0%    Obs&gt;USL 0%</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">73.99</span>,<span class="fl">74.01</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Process Capability Analysis</span> ─────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of obs = 125          Target = 74      </span></span>
<span><span class="co">## Center        = 74.00118     LSL    = 73.99   </span></span>
<span><span class="co">## StdDev        = 0.009785039  USL    = 74.01   </span></span>
<span><span class="co">##                   </span></span>
<span><span class="co">## Capability indices  Value   2.5%  97.5%</span></span>
<span><span class="co">##               Cp    0.341  0.298  0.383</span></span>
<span><span class="co">##               Cp_l  0.381  0.318  0.444</span></span>
<span><span class="co">##               Cp_u  0.301  0.242  0.359</span></span>
<span><span class="co">##               Cp_k  0.301  0.231  0.370</span></span>
<span><span class="co">##               Cpm   0.338  0.296  0.380</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Exp&lt;LSL 0.13%     Obs&lt;LSL 0.12%</span></span>
<span><span class="co">## Exp&gt;USL 0.18%     Obs&gt;USL 0.16%</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-3.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">73.99</span>, <span class="fl">74.1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Process Capability Analysis</span> ─────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of obs = 125          Target = 74.045  </span></span>
<span><span class="co">## Center        = 74.00118     LSL    = 73.99   </span></span>
<span><span class="co">## StdDev        = 0.009785039  USL    = 74.1    </span></span>
<span><span class="co">##                   </span></span>
<span><span class="co">## Capability indices  Value   2.5%  97.5%</span></span>
<span><span class="co">##               Cp    1.874  1.641  2.106</span></span>
<span><span class="co">##               Cp_l  0.381  0.318  0.444</span></span>
<span><span class="co">##               Cp_u  3.367  3.011  3.722</span></span>
<span><span class="co">##               Cp_k  0.381  0.305  0.456</span></span>
<span><span class="co">##               Cpm   0.408  0.338  0.479</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Exp&lt;LSL 0.13%     Obs&lt;LSL 0.12%</span></span>
<span><span class="co">## Exp&gt;USL 0%    Obs&gt;USL 0%</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-4.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="multivariate-quality-control-charts">Multivariate Quality Control Charts<a class="anchor" aria-label="anchor" href="#multivariate-quality-control-charts"></a>
</h2>
<p>Multivariate subgrouped data from Ryan (2011, Table 9.2) with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">p = 2</annotation></semantics></math>
variables,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">m = 20</annotation></semantics></math>
samples, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">n = 4</annotation></semantics></math>
sample size for each sample:</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">RyanMultivar</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2 </span></span>
<span><span class="co">## Data (phase I)             = RyanMultivar </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##      X1      X2 </span></span>
<span><span class="co">## 60.3750 18.4875 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##          X1        X2</span></span>
<span><span class="co">## X1 222.0333 103.11667</span></span>
<span><span class="co">## X2 103.1167  56.57917</span></span>
<span><span class="co">## |S| = 1929.414 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 11.03976</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ellipseChart.html">ellipseChart</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span></code></pre>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/ellipseChart.html">ellipseChart</a></span><span class="op">(</span><span class="va">q</span>, show.id <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-3.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-4.png" width="80%" style="display: block; margin: auto;"></p>
<p>Ryan (2011) discussed Xbar-charts for single variables computed
adjusting the confidence level of the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>T</mi><mn>2</mn></msup><annotation encoding="application/x-tex">T^2</annotation></semantics></math>
chart:</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, </span>
<span>     <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">X1</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, confidence.level <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">confidence.level</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = xbar </span></span>
<span><span class="co">## Data (phase I)             = X1 </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## Center of group statistics = 60.375 </span></span>
<span><span class="co">## Standard deviation         = 14.93443 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 2.999977 </span></span>
<span><span class="co">##       LCL      UCL</span></span>
<span><span class="co">##  37.97352 82.77648</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, </span>
<span>     <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">X2</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, confidence.level <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">confidence.level</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Quality Control Chart</span> ───────────────────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = xbar </span></span>
<span><span class="co">## Data (phase I)             = X2 </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## Center of group statistics = 18.4875 </span></span>
<span><span class="co">## Standard deviation         = 7.139388 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits at nsigmas  = 2.999977 </span></span>
<span><span class="co">##     LCL     UCL</span></span>
<span><span class="co">##  7.7785 29.1965</span></span></code></pre></div>
<p>Generate new “in control” data:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Xnew</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>X1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span>, X2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span>   <span class="op">{</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span></span>
<span>     <span class="va">Xnew</span><span class="op">$</span><span class="va">X1</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span>
<span>     <span class="va">Xnew</span><span class="op">$</span><span class="va">X2</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> </span>
<span>   <span class="op">}</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span>, newdata <span class="op">=</span> <span class="va">Xnew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-28-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2 </span></span>
<span><span class="co">## Data (phase I)             = RyanMultivar </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##      X1      X2 </span></span>
<span><span class="co">## 60.3750 18.4875 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##          X1        X2</span></span>
<span><span class="co">## X1 222.0333 103.11667</span></span>
<span><span class="co">## X2 103.1167  56.57917</span></span>
<span><span class="co">## |S| = 1929.414 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = Xnew </span></span>
<span><span class="co">## Number of groups           = 10 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 11.03976</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prediction limits:</span></span>
<span><span class="co">##  LPL      UPL</span></span>
<span><span class="co">##    0 12.20184</span></span>
<span><span class="fu"><a href="../reference/ellipseChart.html">ellipseChart</a></span><span class="op">(</span><span class="va">q</span>, show.id <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
<p><img src="qcc_files/figure-html/unnamed-chunk-28-2.png" width="80%" style="display: block; margin: auto;"></p>
<p>Generate new “out of control” data:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Xnew</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>X1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span>, X2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span>   <span class="op">{</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="fl">1.2</span><span class="op">*</span><span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span></span>
<span>     <span class="va">Xnew</span><span class="op">$</span><span class="va">X1</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span>
<span>     <span class="va">Xnew</span><span class="op">$</span><span class="va">X2</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> </span>
<span>   <span class="op">}</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span>, newdata <span class="op">=</span> <span class="va">Xnew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-29-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2 </span></span>
<span><span class="co">## Data (phase I)             = RyanMultivar </span></span>
<span><span class="co">## Number of groups           = 20 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##      X1      X2 </span></span>
<span><span class="co">## 60.3750 18.4875 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##          X1        X2</span></span>
<span><span class="co">## X1 222.0333 103.11667</span></span>
<span><span class="co">## X2 103.1167  56.57917</span></span>
<span><span class="co">## |S| = 1929.414 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = Xnew </span></span>
<span><span class="co">## Number of groups           = 10 </span></span>
<span><span class="co">## Group sample size          = 4 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 11.03976</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prediction limits:</span></span>
<span><span class="co">##  LPL      UPL</span></span>
<span><span class="co">##    0 12.20184</span></span>
<span><span class="fu"><a href="../reference/ellipseChart.html">ellipseChart</a></span><span class="op">(</span><span class="va">q</span>, show.id <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
<p><img src="qcc_files/figure-html/unnamed-chunk-29-2.png" width="80%" style="display: block; margin: auto;"></p>
<p>Individual observations data:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">boiler</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, confidence.level <span class="op">=</span> <span class="fl">0.999</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-30-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2.single </span></span>
<span><span class="co">## Data (phase I)             = boiler </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##     t1     t2     t3     t4     t5     t6     t7     t8 </span></span>
<span><span class="co">## 525.00 513.56 538.92 521.68 503.80 512.44 478.72 477.24 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##            t1        t2        t3         t4         t5         t6         t7</span></span>
<span><span class="co">## t1 54.0000000 0.9583333 20.583333 31.2916667 20.3333333 -2.2916667 20.3750000</span></span>
<span><span class="co">## t2  0.9583333 4.8400000  2.963333  2.6866667  0.3250000  3.0766667  0.7050000</span></span>
<span><span class="co">## t3 20.5833333 2.9633333 22.993333 10.0566667  4.9833333  2.0366667  6.4766667</span></span>
<span><span class="co">## t4 31.2916667 2.6866667 10.056667 22.3100000 13.5583333 -2.2700000 12.6983333</span></span>
<span><span class="co">## t5 20.3333333 0.3250000  4.983333 13.5583333 11.4166667 -1.6583333 10.6500000</span></span>
<span><span class="co">## t6 -2.2916667 3.0766667  2.036667 -2.2700000 -1.6583333  4.5066667 -0.7466667</span></span>
<span><span class="co">## t7 20.3750000 0.7050000  6.476667 12.6983333 10.6500000 -0.7466667 11.6266667</span></span>
<span><span class="co">## t8  0.2083333 3.4433333  2.770000  0.1633333 -0.2833333  3.7233333  0.5283333</span></span>
<span><span class="co">##            t8</span></span>
<span><span class="co">## t1  0.2083333</span></span>
<span><span class="co">## t2  3.4433333</span></span>
<span><span class="co">## t3  2.7700000</span></span>
<span><span class="co">## t4  0.1633333</span></span>
<span><span class="co">## t5 -0.2833333</span></span>
<span><span class="co">## t6  3.7233333</span></span>
<span><span class="co">## t7  0.5283333</span></span>
<span><span class="co">## t8  3.8566667</span></span>
<span><span class="co">## |S| = 8313.241 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 17.41705</span></span></code></pre>
<p>Generate new “in control” data:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">boilerNew</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, confidence.level <span class="op">=</span> <span class="fl">0.999</span>, </span>
<span>     newdata <span class="op">=</span> <span class="va">boilerNew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-31-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2.single </span></span>
<span><span class="co">## Data (phase I)             = boiler </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##     t1     t2     t3     t4     t5     t6     t7     t8 </span></span>
<span><span class="co">## 525.00 513.56 538.92 521.68 503.80 512.44 478.72 477.24 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##            t1        t2        t3         t4         t5         t6         t7</span></span>
<span><span class="co">## t1 54.0000000 0.9583333 20.583333 31.2916667 20.3333333 -2.2916667 20.3750000</span></span>
<span><span class="co">## t2  0.9583333 4.8400000  2.963333  2.6866667  0.3250000  3.0766667  0.7050000</span></span>
<span><span class="co">## t3 20.5833333 2.9633333 22.993333 10.0566667  4.9833333  2.0366667  6.4766667</span></span>
<span><span class="co">## t4 31.2916667 2.6866667 10.056667 22.3100000 13.5583333 -2.2700000 12.6983333</span></span>
<span><span class="co">## t5 20.3333333 0.3250000  4.983333 13.5583333 11.4166667 -1.6583333 10.6500000</span></span>
<span><span class="co">## t6 -2.2916667 3.0766667  2.036667 -2.2700000 -1.6583333  4.5066667 -0.7466667</span></span>
<span><span class="co">## t7 20.3750000 0.7050000  6.476667 12.6983333 10.6500000 -0.7466667 11.6266667</span></span>
<span><span class="co">## t8  0.2083333 3.4433333  2.770000  0.1633333 -0.2833333  3.7233333  0.5283333</span></span>
<span><span class="co">##            t8</span></span>
<span><span class="co">## t1  0.2083333</span></span>
<span><span class="co">## t2  3.4433333</span></span>
<span><span class="co">## t3  2.7700000</span></span>
<span><span class="co">## t4  0.1633333</span></span>
<span><span class="co">## t5 -0.2833333</span></span>
<span><span class="co">## t6  3.7233333</span></span>
<span><span class="co">## t7  0.5283333</span></span>
<span><span class="co">## t8  3.8566667</span></span>
<span><span class="co">## |S| = 8313.241 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = boilerNew </span></span>
<span><span class="co">## Number of groups           = 10 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 17.41705</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prediction limits:</span></span>
<span><span class="co">##  LPL      UPL</span></span>
<span><span class="co">##    0 70.02943</span></span></code></pre>
<p>Generate new “out of control” data:</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">boilerNew</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="fl">1.01</span><span class="op">*</span><span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, confidence.level <span class="op">=</span> <span class="fl">0.999</span>, </span>
<span>     newdata <span class="op">=</span> <span class="va">boilerNew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-32-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2.single </span></span>
<span><span class="co">## Data (phase I)             = boiler </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##     t1     t2     t3     t4     t5     t6     t7     t8 </span></span>
<span><span class="co">## 525.00 513.56 538.92 521.68 503.80 512.44 478.72 477.24 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##            t1        t2        t3         t4         t5         t6         t7</span></span>
<span><span class="co">## t1 54.0000000 0.9583333 20.583333 31.2916667 20.3333333 -2.2916667 20.3750000</span></span>
<span><span class="co">## t2  0.9583333 4.8400000  2.963333  2.6866667  0.3250000  3.0766667  0.7050000</span></span>
<span><span class="co">## t3 20.5833333 2.9633333 22.993333 10.0566667  4.9833333  2.0366667  6.4766667</span></span>
<span><span class="co">## t4 31.2916667 2.6866667 10.056667 22.3100000 13.5583333 -2.2700000 12.6983333</span></span>
<span><span class="co">## t5 20.3333333 0.3250000  4.983333 13.5583333 11.4166667 -1.6583333 10.6500000</span></span>
<span><span class="co">## t6 -2.2916667 3.0766667  2.036667 -2.2700000 -1.6583333  4.5066667 -0.7466667</span></span>
<span><span class="co">## t7 20.3750000 0.7050000  6.476667 12.6983333 10.6500000 -0.7466667 11.6266667</span></span>
<span><span class="co">## t8  0.2083333 3.4433333  2.770000  0.1633333 -0.2833333  3.7233333  0.5283333</span></span>
<span><span class="co">##            t8</span></span>
<span><span class="co">## t1  0.2083333</span></span>
<span><span class="co">## t2  3.4433333</span></span>
<span><span class="co">## t3  2.7700000</span></span>
<span><span class="co">## t4  0.1633333</span></span>
<span><span class="co">## t5 -0.2833333</span></span>
<span><span class="co">## t6  3.7233333</span></span>
<span><span class="co">## t7  0.5283333</span></span>
<span><span class="co">## t8  3.8566667</span></span>
<span><span class="co">## |S| = 8313.241 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## New data (phase II)        = boilerNew </span></span>
<span><span class="co">## Number of groups           = 10 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 17.41705</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Prediction limits:</span></span>
<span><span class="co">##  LPL      UPL</span></span>
<span><span class="co">##    0 70.02943</span></span></code></pre>
<p>Recompute by providing “robust” estimates for the means and the
covariance matrix:</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rob</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/cov.rob.html" class="external-link">cov.rob</a></span><span class="op">(</span><span class="va">boiler</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, center <span class="op">=</span> <span class="va">rob</span><span class="op">$</span><span class="va">center</span>, cov <span class="op">=</span> <span class="va">rob</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-33-1.png" width="80%" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Multivariate Quality Control Chart</span> ──────────── </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Chart type                 = T2.single </span></span>
<span><span class="co">## Data (phase I)             = boiler </span></span>
<span><span class="co">## Number of groups           = 25 </span></span>
<span><span class="co">## Group sample size          = 1 </span></span>
<span><span class="co">## Center = </span></span>
<span><span class="co">##       t1       t2       t3       t4       t5       t6       t7       t8 </span></span>
<span><span class="co">## 526.0455 513.4545 540.2273 521.7727 503.9091 512.5909 479.0000 477.3636 </span></span>
<span><span class="co">## Covariance matrix = </span></span>
<span><span class="co">##           t1        t2         t3         t4         t5         t6         t7</span></span>
<span><span class="co">## t1 34.045455 2.7878788 12.3701299 25.7251082 16.2900433 -4.5043290 14.2857143</span></span>
<span><span class="co">## t2  2.787879 5.2121212  4.9870130  3.4891775  0.8051948  3.5281385  1.4761905</span></span>
<span><span class="co">## t3 12.370130 4.9870130 10.3744589 10.9112554  4.4978355  0.9545455  4.1428571</span></span>
<span><span class="co">## t4 25.725108 3.4891775 10.9112554 20.7554113 12.4069264 -3.0021645 11.0476190</span></span>
<span><span class="co">## t5 16.290043 0.8051948  4.4978355 12.4069264 10.9437229 -2.1341991  9.7142857</span></span>
<span><span class="co">## t6 -4.504329 3.5281385  0.9545455 -3.0021645 -2.1341991  4.8246753 -1.2857143</span></span>
<span><span class="co">## t7 14.285714 1.4761905  4.1428571 11.0476190  9.7142857 -1.2857143 10.1904762</span></span>
<span><span class="co">## t8 -1.398268 3.9220779  2.1038961 -0.1991342 -0.5367965  3.9653680  0.2380952</span></span>
<span><span class="co">##            t8</span></span>
<span><span class="co">## t1 -1.3982684</span></span>
<span><span class="co">## t2  3.9220779</span></span>
<span><span class="co">## t3  2.1038961</span></span>
<span><span class="co">## t4 -0.1991342</span></span>
<span><span class="co">## t5 -0.5367965</span></span>
<span><span class="co">## t6  3.9653680</span></span>
<span><span class="co">## t7  0.2380952</span></span>
<span><span class="co">## t8  4.1471861</span></span>
<span><span class="co">## |S| = 316.2932 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Control limits:</span></span>
<span><span class="co">##  LCL      UCL</span></span>
<span><span class="co">##    0 14.26225</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="pareto-chart">Pareto chart<a class="anchor" aria-label="anchor" href="#pareto-chart"></a>
</h2>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">defect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">27</span>, <span class="fl">66</span>, <span class="fl">94</span>, <span class="fl">33</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">defect</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"price code"</span>, <span class="st">"schedule date"</span>, <span class="st">"supplier code"</span>, <span class="st">"contact num."</span>, <span class="st">"part num."</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/paretoChart.html">paretoChart</a></span><span class="op">(</span><span class="va">defect</span>, ylab <span class="op">=</span> <span class="st">"Error frequency"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Pareto Chart</span> ────────────────────────────────── </span></span>
<span><span class="co">##                </span></span>
<span><span class="co">## defect          Frequency Cum.Freq. Percentage Cum.Percent.</span></span>
<span><span class="co">##   contact num.         94        94      31.33        31.33</span></span>
<span><span class="co">##   price code           80       174      26.67        58.00</span></span>
<span><span class="co">##   supplier code        66       240      22.00        80.00</span></span>
<span><span class="co">##   part num.            33       273      11.00        91.00</span></span>
<span><span class="co">##   schedule date        27       300       9.00       100.00</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-34-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="cause-and-effect-diagram">Cause and effect diagram<a class="anchor" aria-label="anchor" href="#cause-and-effect-diagram"></a>
</h2>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/causeEffectDiagram.html">causeEffectDiagram</a></span><span class="op">(</span>cause <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Measurements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Micrometers"</span>, </span>
<span>                                                 <span class="st">"Microscopes"</span>, </span>
<span>                                                 <span class="st">"Inspectors"</span><span class="op">)</span>,</span>
<span>                                Materials <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alloys"</span>, </span>
<span>                                              <span class="st">"Lubricants"</span>, </span>
<span>                                              <span class="st">"Suppliers"</span><span class="op">)</span>,</span>
<span>                                Personnel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Shifts"</span>, </span>
<span>                                              <span class="st">"Supervisors"</span>, </span>
<span>                                              <span class="st">"Training"</span>, </span>
<span>                                              <span class="st">"Operators"</span><span class="op">)</span>,</span>
<span>                                Environment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Condensation"</span>, </span>
<span>                                                <span class="st">"Moisture"</span><span class="op">)</span>,</span>
<span>                                Methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brake"</span>,</span>
<span>                                            <span class="st">"Engager"</span>, </span>
<span>                                            <span class="st">"Angle"</span><span class="op">)</span>,</span>
<span>                                Machines <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Speed"</span>, </span>
<span>                                             <span class="st">"Lathes"</span>, </span>
<span>                                             <span class="st">"Bits"</span>, </span>
<span>                                             <span class="st">"Sockets"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                   effect <span class="op">=</span> <span class="st">"Surface Flaws"</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-35-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="process-variation-examples">Process variation examples<a class="anchor" aria-label="anchor" href="#process-variation-examples"></a>
</h2>
<p>In the following simulated data are used to describe some models for
process variation. For further details see Wetherill, G.B. and Brown,
D.W. (1991) <em>Statistical Process Control</em>, New York, Chapman and
Hall, Chapter 3.</p>
<div class="section level3">
<h3 id="simple-random-variation">Simple random variation<a class="anchor" aria-label="anchor" href="#simple-random-variation"></a>
</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu + \sigma_W \epsilon_{ij}</annotation></semantics></math></p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">mu</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-37-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-37-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-37-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="between-and-within-sample-extra-variation">Between and within sample extra variation<a class="anchor" aria-label="anchor" href="#between-and-within-sample-extra-variation"></a>
</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>σ</mi><mi>B</mi></msub><msub><mi>u</mi><mi>i</mi></msub><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu + \sigma_B u_i + \sigma_W \epsilon_{ij}</annotation></semantics></math></p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">sigma_B</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>, <span class="va">rep</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">sigma_B</span><span class="op">*</span><span class="va">u</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-38-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-38-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-38-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="autocorrelation">Autocorrelation<a class="anchor" aria-label="anchor" href="#autocorrelation"></a>
</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>W</mi><mi>i</mi></msub><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu + W_i + \sigma_W \epsilon_{ij}</annotation></semantics></math><br>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub><mo>=</mo><mi>ρ</mi><msub><mi>W</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>σ</mi><mi>B</mi></msub><msub><mi>u</mi><mi>i</mi></msub><mo>=</mo><msub><mi>σ</mi><mi>B</mi></msub><msub><mi>u</mi><mi>i</mi></msub><mo>+</mo><mi>ρ</mi><msub><mi>σ</mi><mi>B</mi></msub><msub><mi>u</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msup><mi>ρ</mi><mn>2</mn></msup><msub><mi>σ</mi><mi>B</mi></msub><msub><mi>u</mi><mrow><mi>i</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>+</mo><mi>…</mi></mrow><annotation encoding="application/x-tex">W_i = \rho W_{i-1} + \sigma_B u_i = \sigma_B u_i + \rho \sigma_B u_{i-1} + \rho^2 \sigma_B u_{i-2} + \ldots</annotation></semantics></math>,<br>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">W_0 = 0</annotation></semantics></math>.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">rho</span> <span class="op">&lt;-</span> <span class="fl">0.9</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">sigma_B</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">W</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">W</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">rho</span><span class="op">*</span><span class="va">W</span><span class="op">[</span><span class="va">i</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="va">sigma_B</span><span class="op">*</span><span class="va">u</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">sigma_B</span><span class="op">*</span><span class="va">u</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-39-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-39-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-39-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="recurring-cycles">Recurring cycles<a class="anchor" aria-label="anchor" href="#recurring-cycles"></a>
</h3>
<p>Assume we have 3 working turns of 8 hours each for each working day,
so
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>×</mo><mn>3</mn><mo>=</mo><mn>24</mn></mrow><annotation encoding="application/x-tex">8 \times 3 = 24</annotation></semantics></math>
points in time, and at each point we sample 5 units.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>W</mi><mi>i</mi></msub><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu + W_i + \sigma_W \epsilon_{ij}</annotation></semantics></math><br>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>W</mi><mi>i</mi></msub><annotation encoding="application/x-tex">W_i</annotation></semantics></math>
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>…</mi><mo>,</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">i = 1,\ldots,8</annotation></semantics></math>)
is the cycle.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">120</span>, sd <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span> <span class="co"># assumed workers cycle</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">W</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">W</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">5</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-40-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-40-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-40-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="trends">Trends<a class="anchor" aria-label="anchor" href="#trends"></a>
</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>W</mi><mi>i</mi></msub><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu + W_i + \sigma_W \epsilon_{ij}</annotation></semantics></math><br>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub><mo>=</mo><mn>0.2</mn><mi>i</mi></mrow><annotation encoding="application/x-tex">W_i = 0.2 i</annotation></semantics></math></p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span><span class="op">*</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">W</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-41-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-41-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-41-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="mixture">Mixture<a class="anchor" aria-label="anchor" href="#mixture"></a>
</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><msub><mi>μ</mi><mn>1</mn></msub><mi>p</mi><mo>+</mo><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu_1 p + \mu_2 (1-p) + \sigma_W \epsilon_{ij}</annotation></semantics></math><br>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false" form="prefix">(</mo><mtext mathvariant="normal">Process #1</mtext><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">p = \Pr(\text{Process #1})</annotation></semantics></math>.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu1</span> <span class="op">&lt;-</span> <span class="fl">90</span></span>
<span><span class="va">mu2</span> <span class="op">&lt;-</span> <span class="fl">110</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="va">mu1</span><span class="op">*</span><span class="va">p</span> <span class="op">+</span> <span class="va">mu2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">mu</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">mu</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-42-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-42-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-42-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="sudden-jumps">Sudden jumps<a class="anchor" aria-label="anchor" href="#sudden-jumps"></a>
</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><msub><mi>μ</mi><mi>i</mi></msub><mo>+</mo><msub><mi>σ</mi><mi>W</mi></msub><msub><mi>ϵ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{ij} = \mu_i + \sigma_W \epsilon_{ij}</annotation></semantics></math><br>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>μ</mi><mi>i</mi></msub><annotation encoding="application/x-tex">\mu_i</annotation></semantics></math>
is the mean of the process for state
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>…</mi><mo>,</mo><mi>k</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">i = 1,\ldots,k)</annotation></semantics></math>.</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95</span>,<span class="fl">110</span>,<span class="fl">100</span>,<span class="fl">90</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">35</span>,<span class="fl">25</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">mu</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">mu</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-43-1.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-43-2.png" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-43-3.png" width="80%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Montgomery, D.C. (2013) <em>Introduction to Statistical Quality
Control</em>, 7th ed. New York: John Wiley &amp; Sons.</p>
<p>Ryan, T. P. (2011), <em>Statistical Methods for Quality
Improvement</em>, 3rd ed. New York: John Wiley &amp; Sons.</p>
<p>Scrucca, L. (2004) <a href="https://luca-scr.github.io//R/Rnews_2004-1-pag11-17.pdf" class="external-link">qcc: an R
package for quality control charting and statistical process
control</a>. <em>R News</em> 4/1, 11-17.</p>
<hr>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## R version 4.5.0 (2025-04-11)</span></span>
<span><span class="co">## Platform: aarch64-apple-darwin20</span></span>
<span><span class="co">## Running under: macOS Sequoia 15.4.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Europe/Rome</span></span>
<span><span class="co">## tzcode source: internal</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] qcc_3.0         patchwork_1.3.0 ggplot2_3.5.2   knitr_1.50     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] crayon_1.5.3       vctrs_0.6.5        cli_3.6.5          rlang_1.1.6       </span></span>
<span><span class="co">##  [5] xfun_0.52          generics_0.1.3     jsonlite_2.0.0     labeling_0.4.3    </span></span>
<span><span class="co">##  [9] glue_1.8.0         htmltools_0.5.8.1  sass_0.4.10        scales_1.4.0      </span></span>
<span><span class="co">## [13] rmarkdown_2.29     grid_4.5.0         tibble_3.2.1       evaluate_1.0.3    </span></span>
<span><span class="co">## [17] jquerylib_0.1.4    MASS_7.3-65        fastmap_1.2.0      yaml_2.3.10       </span></span>
<span><span class="co">## [21] lifecycle_1.0.4    compiler_4.5.0     dplyr_1.1.4        fs_1.6.6          </span></span>
<span><span class="co">## [25] RColorBrewer_1.1-3 pkgconfig_2.0.3    htmlwidgets_1.6.4  rstudioapi_0.17.1 </span></span>
<span><span class="co">## [29] farver_2.1.2       digest_0.6.37      R6_2.6.1           tidyselect_1.2.1  </span></span>
<span><span class="co">## [33] pillar_1.10.2      magrittr_2.0.3     bslib_0.9.0        withr_3.0.2       </span></span>
<span><span class="co">## [37] tools_4.5.0        gtable_0.3.6       pkgdown_2.1.1      cachem_1.1.0      </span></span>
<span><span class="co">## [41] desc_1.4.3</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://luca-scr.github.io" class="external-link">Luca Scrucca</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
